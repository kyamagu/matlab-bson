function testBSON
%TESTBSON
  fixtures = {...
    1, ...
    int32(1), ...
    int64(1), ...
    true, ...
    'foo', ...
    native2unicode([82 117 97 115 32 100 101 32 76 105 232 103 101]), ...
    '', ...
    uint8(1:5), ...
    1:5, ...
    int32(1:5), ...
    int64(1:5), ...
    true(1, 4), ...
    bson.datetime('2009-01-01'), ...
    [bson.datetime('2009-01-01'), bson.datetime('2010-01-01')], ...
    {1, true, 'foo'}, ...
    struct('a', 1, 'b', 2, 'c', 3), ...
    repmat(cat(3, magic(4), zeros(4)), [1,1,1,2]), ...
    repmat(struct('a', 1, 'b', 2, 'c', 3), [1,1,1,2]), ...
    {{{1,2},{3,4}},{{5,6},{7,8}}} ...
  };
  for i = 1:numel(fixtures)
    value1 = fixtures{i};
    bson_value = bson.encode(value1);
    value2 = bson.decode(bson_value);
    disp(value1);
    disp(value2);
  end
end
